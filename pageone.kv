ScreenManager:
    ScreenOne:
        name: 'screen_one'
    ScreenTwo:
        name: 'screen_two'
    ScreenThree:
        name: 'screen_three'
    GameOverScreen:
        name: "game_over_screen"

<Label>:
    color: (20/255, 158/255, 126/255, 1)

<Button>:
    canvas.before:
        Color:
            rgba: (1, 1, 1, 1)  
        RoundedRectangle:
            source: 'cartridge.jpg'  
            size: self.size
            pos: self.pos
            radius: [30]  
            
    background_color: 0, 0, 0, 0  
    color: (235/255, 235/255, 235/255, 1)


<ScreenOne>:
    FloatLayout:
        orientation: 'vertical'
        spacing: 20
        padding: 20

        Image:
            source: 'roreee.jpg'
            allow_stretch: True
            keep_ratio: True
            size_hint: 1, 1
            size: self.texture_size
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

         # Shadow Label
        Label:
            text: 'Renya shooting Ryu'
            font_size: '68sp'
            size_hint: 1, 0.3
            pos_hint: {'center_x': 0.505, 'center_y': 0.805}
            color: (0, 0, 0, 0.5) 
        
        # Main Label
        Label:
            id: title_label
            text: 'Renya shooting Ryu'
            font_size: '68sp'
            size_hint: 1, 0.3
            pos_hint: {'center_x': 0.5, 'center_y': 0.8}
            color: (20/255, 158/255, 126/255, 1)
        

        # Shadow Label for START Button
        Label:
            text: 'START'
            font_size: '64sp'
            size_hint: 0.27, 0.1
            pos_hint: {'center_x': 0.5, 'center_y': 0.175}  # Same position as Button
            color: (40/255, 39/255, 39/255, 1)  # Pure white color
              
        Button:
            id: start_button
            text: 'START'
            font_size: '64sp'
            size_hint: 0.27, 0.1
            pos_hint:{'center_x': 0.5, 'center_y': 0.175}
            on_press: root.change_button_color
            on_press: root.change_screen()
            

        Image:
            id: mute_image
            source: "sound_on.png"
            size_hint: None, None
            size: 50, 50
            pos_hint:{'center_x': 0.1, 'center_y': 0.1}
          
            


<ScreenTwo>:
    FloatLayout:
        orientation: 'vertical'

        Label:
            id: game_start_label
            text: ""
            font_size: '90sp'
            color: (1, 1, 1, 1)
            size_hint:(1, 0.3)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

<Image>:
    size_hint: (0.6, 0.6)

<ScreenThree>:
    hero_image: hero_image
    hero_attack_image_right: hero_attack_image_right
    hero_attack_image_left: hero_attack_image_left
    monster_image_right: monster_image_right
    monster_image_left: monster_image_left
    attack_effect_right: attack_effect_right
    attack_effect_left: attack_effect_left

    FloatLayout:
        orientation: 'vertical'


        Image:
            source: 'bg_game.png'
            allow_stretch: True
            keep_ratio: True
            size_hint: 3, 3
            size: self.parent.size 
            size: self.texture_size
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        Label:
            id: score_label
            
            font_size: '37sp'
            color: (1, 1, 1, 1)
            size_hint: (None, None)
            size: (100, 40)
            pos: 10, self.parent.height - 50

        
        Label:
            text: "LIFE "
            font_size: '37sp'
            color: (1, 1, 1, 1)
            size_hint: (None, None)
            size: (100, 40)
            pos: 10, self.parent.height - 100

        Image:
            id: hero_image
            source: 'lauren.png' 
            size_hint: (0.2, 0.2)
            pos_hint: {'center_x': 0.5, 'center_y': 0.2}
        
        Image:
            id: hero_attack_image_right
            source: 'fight_R.png' 
            size_hint: (0.5, 0.5)
            pos_hint: {'center_x': 0.5, 'center_y': 0.3}
            opacity: 0

        Image:
            id: hero_attack_image_left
            source: 'fight_L.png' 
            size_hint: (0.5, 0.5)
            pos_hint: {'center_x': 0.5, 'center_y': 0.3}
            opacity: 0


        Image:
            id: monster_image_right
            source: 'Ryu.png' 
            size_hint: (0.4, 0.4)
            pos: (250, 150)
            opacity: 0

        Image:
            id: monster_image_left
            source: 'Ryu_1.png' 
            size_hint: (0.4, 0.4)
            pos: (-200, 150)
            opacity: 0

        # เอฟเฟกต์การโจมตีขวา
        Image:
            id: attack_effect_right
            source: 'effect_R.png'  # เปลี่ยนเป็นภาพเอฟเฟกต์ขวา
            size_hint: (0.3, 0.3)
            pos_hint: {'center_x': 0.7, 'center_y': 0.55}
            opacity: 0  # ซ่อนเอฟเฟกต์เริ่มต้น

        # เอฟเฟกต์การโจมตีซ้าย
        Image:
            id: attack_effect_left
            source: 'effect_L.png'  # เปลี่ยนเป็นภาพเอฟเฟกต์ซ้าย
            size_hint: (0.3, 0.3)
            pos_hint: {'center_x': 0.3, 'center_y': 0.55}
            opacity: 0  # ซ่อนเอฟเฟกต์เริ่มต้น

    

        Button:
            text: 'Back to Home' #ย้อนกลับหน้าแรก
            size_hint: (None, None)
            size: (150, 50)
            pos_hint: {'right': 1, 'top': 1}
            on_press: root.go_back()

<GameOverScreen>:
    BoxLayout:
        orientation: "vertical"
        spacing: dp(10)
        padding: dp(20)
        
        
        Label:
            id: game_over_label
            text: "GAME OVER !"
            font_size: "90sp"
            color: (1, 0, 0, 1)
            pos_hint: {"center_x": 0.5, "center_y": 0.7}
            opacity: 1 

        Label:
            id: score_label

            font_size: "70sp"
            pos_hint: {"center_x": 0.5, "center_y": 0.3}

            
        
        Button:
            text: "Back to Home"
            font_size: '35sp'
            size_hint: 0.4, 0.2
            pos_hint: {'center_x': 0.5, 'center_y': 0.175}  # Same position as Button
            size: (500, 250)
            height: dp(40)
            on_release: 
                app.reset_game()  
                app.root.current = "screen_one"


                
